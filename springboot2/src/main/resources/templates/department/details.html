<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Spring Boot 2</title>
</head>
<body>
    <header>
        <h1>부서 상세 정보</h1>
    </header>
    
    <nav>
        <ul>
            <li>
                <a th:href="@{/}">홈페이지</a>
            </li>
            <li>
                <a th:href="@{/employee/list}">직원목록</a>
            </li>
            <li>
                <a th:href="@{/department/list}">부서목록</a>
            </li>
        </ul>
    </nav>
    
    <main>
        <section>
            <h2>부서 정보</h2>
            <table>
                <tbody th:object="${department}">
                    <tr>
                        <th>부서번호</th>
                        <td th:text="*{id}"></td>
                    </tr>
                    <tr>
                        <th>부서이름</th>
                        <td th:text="*{dname}"></td>
                    </tr>
                    <tr>
                        <th>위치</th>
                        <td th:text="*{location}"></td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section>
            <h2>직원 정보</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>NAME</th>
                        <th>JOB</th>
                        <th>MANAGER</th>
                        <th>HIRE DATE</th>
                        <th>SALARY</th>
                        <th>COMMISSION</th>
                        <th>DEPARTMENT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="emp : ${department.employees}" th:object="${emp}">
                        <td>
                            <a th:href="@{'/employee/' + *{id}}" th:text="*{id}"></a>
                        </td>
                        <td>
                            <a th:href="@{'/employee/' + *{id}}" th:text="*{ename}"></a>
                        </td>
                        <td th:text="*{job}"></td>
                        <td>
                            <th:block th:if="*{manager != null}">
                                <a th:href="@{'/employee/' + *{manager.id}}"
                                    th:text="*{manager.ename}"></a>
                            </th:block>
                        </td>
                        <td th:text="*{hiredate}"></td>
                        <td th:text="*{salary}"></td>
                        <td th:text="*{commission}"></td>
                        <td th:text="*{department.dname}"></td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
</body>
</html>
